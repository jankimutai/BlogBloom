{"ast":null,"code":"import _slicedToArray from\"/home/jankim/Development/BlogBloom/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import Navbar from'./components/Navbar';import{Route,Routes}from'react-router-dom';import Home from\"./components/Home\";import About from\"./components/About\";import Login from\"./components/Login\";import Registration from\"./components/Registration\";import BlogDetails from'./components/BlogDetails';import NewPost from'./components/NewPost';import EditBlogPost from'./components/EditBlog';import{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),blogPosts=_useState2[0],setBlogPosts=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(12),_useState6=_slicedToArray(_useState5,2),perPage=_useState6[0],setPerPage=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalPosts=_useState8[0],setTotalPosts=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),searchQuery=_useState10[0],setSearchQuery=_useState10[1];useEffect(function(){fetch(\"http://localhost:5555/blogs?page=\".concat(page,\"&per_page=\").concat(perPage)).then(function(response){return response.json();}).then(function(data){return setBlogPosts(data);}).catch(function(error){return console.error(\"Error fetching data:\",error);});},[page,perPage]);useEffect(function(){fetch(\"http://localhost:5555/total_posts\").then(function(response){return response.json();}).then(function(data){return setTotalPosts(data.total);}).catch(function(error){return console.error(\"Error fetching total posts:\",error);});},[]);function handlePageChange(newPage){setPage(newPage);}function handlePerPageChange(newPerPage){setPerPage(newPerPage);}var totalPages=Math.ceil(totalPosts/perPage);var handleSearch=function handleSearch(query){setSearchQuery(query);};var filteredPosts=searchQuery?blogPosts.filter(function(post){return post.title.toLowerCase().includes(searchQuery.toLowerCase());}):blogPosts;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{onSearch:handleSearch}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/blogs/:id/edit\",element:/*#__PURE__*/_jsx(EditBlogPost,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/blogs/:id\",element:/*#__PURE__*/_jsx(BlogDetails,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/blogs\",element:/*#__PURE__*/_jsx(Home,{page:page,blogPosts:filteredPosts,handlePageChange:handlePageChange,handlePerPageChange:handlePerPageChange,totalPages:totalPages})}),/*#__PURE__*/_jsx(Route,{path:\"/registration\",element:/*#__PURE__*/_jsx(Registration,{})}),/*#__PURE__*/_jsx(Route,{path:\"/newblog\",element:/*#__PURE__*/_jsx(NewPost,{})})]})]});}export default App;","map":{"version":3,"names":["Navbar","Route","Routes","Home","About","Login","Registration","BlogDetails","NewPost","EditBlogPost","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_useState","_useState2","_slicedToArray","blogPosts","setBlogPosts","_useState3","_useState4","page","setPage","_useState5","_useState6","perPage","setPerPage","_useState7","_useState8","totalPosts","setTotalPosts","_useState9","_useState10","searchQuery","setSearchQuery","fetch","concat","then","response","json","data","catch","error","console","total","handlePageChange","newPage","handlePerPageChange","newPerPage","totalPages","Math","ceil","handleSearch","query","filteredPosts","filter","post","title","toLowerCase","includes","children","onSearch","path","element","exact"],"sources":["/home/jankim/Development/BlogBloom/src/App.js"],"sourcesContent":["import './App.css';\nimport Navbar from './components/Navbar'\nimport { Route,Routes } from 'react-router-dom';\nimport Home from \"./components/Home\";\nimport About from \"./components/About\";\nimport Login from \"./components/Login\";\nimport Registration from \"./components/Registration\"\nimport BlogDetails from './components/BlogDetails';\nimport NewPost from './components/NewPost';\nimport EditBlogPost from './components/EditBlog';\n\nimport { useState, useEffect } from \"react\";\nfunction App() {\n  const [blogPosts, setBlogPosts] = useState([]);\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(12);\n  const [totalPosts, setTotalPosts] = useState(0);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  useEffect(() => {\n    fetch(`http://localhost:5555/blogs?page=${page}&per_page=${perPage}`)\n      .then((response) => response.json())\n      .then((data) => setBlogPosts(data))\n      .catch((error) => console.error(\"Error fetching data:\", error));\n  }, [page, perPage]);\n\n  useEffect(() => {\n    fetch(`http://localhost:5555/total_posts`)\n      .then((response) => response.json())\n      .then((data) => setTotalPosts(data.total))\n      .catch((error) => console.error(\"Error fetching total posts:\", error));\n  }, []);\n  function handlePageChange(newPage) {\n    setPage(newPage);\n  }\n  function handlePerPageChange(newPerPage) {\n    setPerPage(newPerPage);\n  }\n  const totalPages = Math.ceil(totalPosts / perPage);\n\n  const handleSearch = (query) => {\n    setSearchQuery(query);\n  };\n\n  const filteredPosts = searchQuery ? blogPosts.filter((post) => post.title.toLowerCase().includes(searchQuery.toLowerCase())) : blogPosts;\n\n  return (\n    <>\n      <Navbar onSearch={handleSearch} />\n      <Routes>\n        <Route path='/blogs/:id/edit' element={<EditBlogPost />} />\n        <Route exact path=\"/\"element={<Login />}/>\n        <Route path=\"/blogs/:id\" element={<BlogDetails />} />\n        <Route path=\"/about\"element={<About />}/>\n        <Route path=\"/blogs\"element={<Home page={page} blogPosts={filteredPosts} handlePageChange={handlePageChange} handlePerPageChange={handlePerPageChange} totalPages={totalPages} />}/>\n        <Route path=\"/registration\"element={<Registration />}/>\n        <Route path='/newblog' element={<NewPost />} />\n      </Routes>\n    </>\n  )\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}