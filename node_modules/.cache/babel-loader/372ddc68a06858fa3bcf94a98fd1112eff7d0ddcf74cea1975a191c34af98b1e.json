{"ast":null,"code":"import _slicedToArray from\"/home/jankim/Development/BlogBloom/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BlogDetails(){var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedBlog=_useState2[0],setSelectedBlog=_useState2[1];useEffect(function(){fetch(\"/blogs/\".concat(id)).then(function(response){return response.json();}).then(function(data){return setSelectedBlog(data);});},[id]);if(!selectedBlog){return null;}var handleDelete=function handleDelete(){fetch(\"/blogs/\".concat(id),{method:\"DELETE\"}).then(function(response){if(response.status===204){alert(\"\".concat(selectedBlog.title,\" deleted\"));navigate(\"/blogs\");}});};return/*#__PURE__*/_jsx(\"div\",{className:\"blog-details-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"blog-details\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"blog-details-title\",children:selectedBlog.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"blog-details-item\",children:[selectedBlog.image_url?/*#__PURE__*/_jsx(\"img\",{className:\"blog_image1\",src:selectedBlog.image_url,alt:selectedBlog.id}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"blog-details-text\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"blog-date\",children:selectedBlog.created_at}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Category: \",selectedBlog.category]}),/*#__PURE__*/_jsx(\"p\",{className:\"blog-content\",children:selectedBlog.content})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit-button\",onClick:function onClick(){return navigate(\"/blogs/\".concat(id,\"/edit\"));},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-button\",onClick:handleDelete,children:\"Delete\"})]})]},selectedBlog.id)});}export default BlogDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","BlogDetails","navigate","_useParams","id","_useState","_useState2","_slicedToArray","selectedBlog","setSelectedBlog","fetch","concat","then","response","json","data","handleDelete","method","status","alert","title","className","children","image_url","src","alt","created_at","category","content","onClick"],"sources":["/home/jankim/Development/BlogBloom/src/components/BlogDetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nfunction BlogDetails() {\n  const navigate = useNavigate()\n  const { id } = useParams();\n  const [selectedBlog, setSelectedBlog] = useState(null);\n\n  useEffect(() => {\n    fetch(`/blogs/${id}`)\n      .then((response) => response.json())\n      .then((data) => setSelectedBlog(data));\n    }, [id]);\n\n  if (!selectedBlog) {\n    return null;\n  }\n  const handleDelete = () => {\n    fetch(`/blogs/${id}`, {\n      method: \"DELETE\",\n    })\n      .then((response) => {\n        if (response.status === 204) {\n          alert(`${selectedBlog.title} deleted`)\n          navigate(\"/blogs\")\n        }})\n  }\n  return (\n    <div className=\"blog-details-container\">\n        <div key={selectedBlog.id} className=\"blog-details\" >\n        <h2 className=\"blog-details-title\">{selectedBlog.title}</h2>\n        <div className=\"blog-details-item\">\n        {selectedBlog.image_url ? (<img className=\"blog_image1\" src={selectedBlog.image_url} alt={selectedBlog.id} />) : null}\n            <div className=\"blog-details-text\">\n              <p className=\"blog-date\">{selectedBlog.created_at}</p>\n              <h4>Category: {selectedBlog.category}</h4>\n              <p className=\"blog-content\">{selectedBlog.content}</p>\n            </div>\n        </div>\n        <div>\n          <button className=\"edit-button\"onClick={() => navigate(`/blogs/${id}/edit`)}>Edit</button>\n          <button className=\"delete-button\" onClick={handleDelete}>Delete</button>\n        </div>\n        \n      </div>\n\n    </div>\n  );\n}\n\nexport default BlogDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}